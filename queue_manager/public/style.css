:root{
  --bg:#0f1117; --panel:#151821; --muted:#9aa4b2; --text:#f8fafc; --accent:#8b5cf6;
  --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444;
  --w: min(1100px, 96vw);
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font:14px/1.4 system-ui,Segoe UI,Roboto,Arial}
a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}
.status-bar{display:flex;align-items:center;gap:12px;background:var(--panel);border-bottom:1px solid #24283b;padding:10px 16px}
.status-user{display:flex;align-items:center;gap:10px;min-width:0}
.status-avatar{width:36px;height:36px;border-radius:50%;border:1px solid #24283b;background:#121423;color:var(--muted);font-weight:600;display:grid;place-items:center;overflow:hidden;background-size:cover;background-position:center}
.status-info{display:flex;flex-direction:column;line-height:1.2}
.status-name{font-weight:600;white-space:nowrap}
.status-channel{font-size:12px;color:var(--muted);white-space:nowrap}
.status-actions{margin-left:auto;display:flex;gap:8px;flex-wrap:wrap}
.status-action{padding:.35rem .75rem;border-radius:8px;border:1px solid #24283b;background:#121423;color:var(--text);cursor:pointer}
.status-action:hover{background:#1b1f2b}
.status-action.danger{border-color:var(--danger);color:var(--danger)}
.status-action.danger:hover{background:rgba(239,68,68,0.15)}
.wrap{max-width:var(--w);margin:24px auto;padding:0 8px}
.header{display:flex;gap:16px;align-items:center;margin-bottom:16px}
.brand{font-weight:700;font-size:20px}
.badge{display:inline-block;padding:.15rem .5rem;border-radius:999px;background:var(--panel);border:1px solid #24283b;color:var(--muted);font-size:12px}
.badge.ok{border-color:var(--ok);color:var(--ok)}
.badge.warn{border-color:var(--warn);color:var(--warn)}
.badge.error{border-color:var(--danger);color:var(--danger)}
.grid{display:grid;grid-template-columns:2fr 1fr;gap:16px}
.card{background:var(--panel);border:1px solid #24283b;border-radius:12px;padding:14px}
.card h2{margin:0 0 10px 0;font-size:16px}
.row{display:flex;gap:10px;align-items:center}
.queue{display:flex;flex-direction:column;gap:10px}
.queue-layout{display:flex;flex-direction:column;gap:24px}
.queue-column{flex:1 1 auto;min-width:min(800px,100%);display:flex;flex-direction:column;gap:12px}
.preview-column{flex:1 1 auto}
.preview-card{display:flex;flex-direction:column;gap:14px;background:#151821;border:1px solid #24283b;border-radius:14px;padding:14px}
.section-header{display:flex;align-items:center;justify-content:space-between;gap:12px}
.section-title{margin:0;font-size:16px}
.preview-card .section-title{font-size:16px}
.collapse-toggle{padding:.3rem .65rem;border-radius:8px;border:1px solid #24283b;background:#121423;color:var(--muted);cursor:pointer;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.03em}
.collapse-toggle:hover{background:#1b1f2b;color:var(--text)}
.collapse-toggle:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
.collapsible-content.collapsed{display:none}
.preview-video{position:relative;width:100%;aspect-ratio:16/9;border-radius:12px;overflow:hidden;background:#05070d}
.preview-video iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
.preview-video.empty iframe{display:none}
.preview-message{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:12px;text-align:center;font-size:13px;color:var(--muted)}
.preview-video:not(.empty) .preview-message{display:none}
.preview-link-group{display:flex;flex-direction:column;gap:6px}
.preview-link-group label{font-weight:600;color:var(--text)}
.preview-link-row{display:flex;gap:8px}
#preview-url{flex:1;padding:.45rem .6rem;border-radius:8px;border:1px solid #24283b;background:#0f1117;color:var(--text);font-family:monospace;font-size:12px}
#preview-url:focus{outline:2px solid var(--accent);outline-offset:2px}
#preview-copy{padding:.45rem .9rem;border-radius:8px;border:1px solid var(--accent);background:rgba(139,92,246,0.1);color:var(--accent);cursor:pointer;font-weight:600}
#preview-copy:disabled{opacity:.5;cursor:not-allowed}
#preview-copy:not(:disabled):hover{background:rgba(139,92,246,0.18)}
.preview-results{display:flex;flex-direction:column;gap:10px}
.preview-results-header{display:flex;justify-content:space-between;align-items:center;gap:12px}
.preview-results-title{font-weight:600}
.preview-status{font-size:12px;color:var(--muted)}
.preview-results-list{display:flex;flex-direction:column;gap:8px}
.preview-empty{padding:12px;border-radius:10px;border:1px dashed #24283b;background:#0f1117;color:var(--muted);font-size:13px;text-align:center}
.preview-result{display:flex;align-items:center;gap:12px;padding:8px 10px;border-radius:10px;border:1px solid #24283b;background:#0f1117;color:inherit;font:inherit;text-align:left;cursor:pointer;transition:border-color .15s ease,box-shadow .15s ease;appearance:none;-webkit-appearance:none}
.preview-result:hover:not(:disabled){border-color:var(--accent)}
.preview-result.active{border-color:var(--accent);box-shadow:0 0 0 1px rgba(139,92,246,0.25) inset}
.preview-result:disabled{opacity:.6;cursor:not-allowed}
.preview-thumb{width:64px;height:48px;border-radius:8px;overflow:hidden;background:#070910;display:flex;align-items:center;justify-content:center;font-weight:600;color:var(--muted)}
.preview-thumb img{width:100%;height:100%;object-fit:cover}
.preview-result-info{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}
.preview-result-title{font-weight:600;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}
.preview-result-meta{font-size:12px;color:var(--muted);display:flex;flex-wrap:wrap;gap:6px}
.item{display:grid;grid-template-columns:56px minmax(0,1fr) auto auto;gap:12px;align-items:center;padding:10px;border-radius:10px;border:1px solid #24283b;background:#121423;cursor:pointer}
.item.prio{border-color:var(--accent);box-shadow:0 0 0 1px rgba(139,92,246,0.2) inset}
.item.played{opacity:.6;background:#0f121a}
.item.selected{border-color:var(--accent);box-shadow:0 0 0 1px rgba(139,92,246,0.35) inset}
.thumb{width:56px;height:42px;border-radius:6px;background:#0b0d13;display:grid;place-items:center;color:var(--muted);font-weight:700}
.thumb img{width:100%;height:100%;object-fit:cover;border-radius:6px}
.meta{min-width:150px;text-align:right;color:var(--muted);font-size:12px;display:flex;flex-direction:column;gap:4px;align-items:flex-end}
.meta .badge{margin-left:0}
.meta-time{font-size:12px;color:var(--muted)}
.title{font-weight:600}
.muted{color:var(--muted);font-size:12px}
.ctrl{display:flex;gap:6px}
.ctrl button{padding:.3rem .45rem;border-radius:6px;border:1px solid #24283b;background:#1a1d29;color:var(--text);cursor:pointer}
.ctrl button:hover{background:#24283b}
.badge.accent{border-color:var(--accent);background:rgba(139,92,246,0.15);color:var(--accent)}
.sep{height:1px;background:#24283b;margin:8px 0}
.info p{margin:.25rem 0;color:var(--muted)}
.tabs{display:flex;gap:8px;margin-bottom:8px}
.tab{padding:.35rem .7rem;border-radius:8px;border:1px solid #24283b;background:#121423;color:var(--muted);cursor:pointer}
.tab.active{color:var(--text);border-color:var(--accent)}
.playlist-form{display:flex;flex-direction:column;gap:12px;margin-bottom:16px;padding:14px;border-radius:12px;border:1px solid #24283b;background:#121423}
.playlist-form-row{display:flex;flex-direction:column;gap:6px}
.playlist-form-row label{font-weight:600;color:var(--text)}
.playlist-form-row input,.playlist-form-row select{padding:.45rem .6rem;border-radius:8px;border:1px solid #24283b;background:#0f1117;color:var(--text)}
.playlist-form-row input:focus,.playlist-form-row select:focus{outline:2px solid var(--accent);outline-offset:2px}
.playlist-form-actions{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.playlist-form button[type="submit"]{padding:.45rem .9rem;border-radius:8px;border:1px solid var(--accent);background:rgba(139,92,246,0.18);color:var(--accent);cursor:pointer;font-weight:600}
.playlist-form button[type="submit"]:hover{background:rgba(139,92,246,0.26)}
.playlist-form.loading button[type="submit"]{opacity:.6;cursor:wait}
.playlist-form-hint{margin:4px 0 0 0}
.playlist-status{font-size:12px}
.playlist-status.error,.muted.error{color:var(--danger)}
.playlists-list{display:flex;flex-direction:column;gap:12px;margin-top:16px}
.playlist-card{border:1px solid #24283b;border-radius:12px;padding:14px;background:#121423;display:flex;flex-direction:column;gap:12px}
.playlist-card.loading{opacity:.6}
.playlist-header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap}
.playlist-header-info{display:flex;flex-direction:column;gap:6px}
.playlist-header-info h3{margin:0;font-size:15px}
.playlist-meta{font-size:12px}
.playlist-meta-link a{font-size:12px}
.playlist-toggle{padding:.35rem .75rem;border-radius:8px;border:1px solid #24283b;background:#1a1d29;color:var(--text);cursor:pointer;font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.03em}
.playlist-toggle:hover{background:#24283b}
.playlist-manage{border-top:1px solid #1f2330;padding-top:12px;display:flex;flex-direction:column;gap:10px}
.playlist-keywords-form{display:flex;flex-direction:column;gap:8px}
.playlist-keywords-form label{font-weight:600;color:var(--text);font-size:13px}
.playlist-keywords-form input{padding:.45rem .6rem;border-radius:8px;border:1px solid #24283b;background:#0f1117;color:var(--text)}
.playlist-keywords-form input:focus{outline:2px solid var(--accent);outline-offset:2px}
.playlist-keywords-form.loading{opacity:.7}
.playlist-keywords-actions{display:flex;gap:8px;flex-wrap:wrap}
.playlist-keywords-actions button{padding:.35rem .7rem;border-radius:8px;border:1px solid #24283b;background:#1a1d29;color:var(--text);cursor:pointer;font-size:12px;font-weight:600}
.playlist-keywords-actions button:hover{background:#24283b}
.playlist-keywords-actions button.danger{border-color:var(--danger);color:var(--danger)}
.playlist-keywords-actions button.danger:hover{background:rgba(239,68,68,0.18)}
.playlist-keywords-hint{margin:0;font-size:11px;line-height:1.4}
.playlist-items{display:flex;flex-direction:column;gap:8px}
.playlist-item{display:flex;justify-content:space-between;align-items:center;gap:12px;padding:10px;border-radius:10px;border:1px solid #24283b;background:#0f1117}
.playlist-item-info{display:flex;flex-direction:column;gap:4px;min-width:0}
.playlist-item-title{font-weight:600}
.playlist-item-meta{font-size:12px;color:var(--muted)}
.playlist-item-actions{display:flex;gap:8px}
.playlist-item-actions button{padding:.35rem .65rem;border-radius:8px;border:1px solid #24283b;background:#1a1d29;color:var(--text);cursor:pointer;font-size:12px;font-weight:600}
.playlist-item-actions button:hover{background:#24283b}
.playlist-item-actions button.accent{border-color:var(--accent);background:rgba(139,92,246,0.15);color:var(--accent)}
.playlist-item-actions button.accent:hover{background:rgba(139,92,246,0.24)}
.playlist-loading{font-size:12px;color:var(--muted)}
.streams{display:flex;flex-direction:column;gap:6px;max-height:300px;overflow:auto}
.stream{padding:8px;border-radius:8px;border:1px solid #24283b;background:#121423;cursor:pointer}
.stream.active{border-color:var(--accent)}
.footer{margin-top:10px;color:var(--muted);font-size:12px}
.landing{display:flex;flex-direction:column;align-items:center;gap:16px;margin:80px auto;text-align:center}
.landing h1{margin:0 0 20px;font-size:32px}
.landing button{padding:.5rem 1rem;border-radius:8px;border:1px solid #24283b;background:#121423;color:var(--text);cursor:pointer}
.channel-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:16px}
.overlay-builder{display:flex;flex-wrap:wrap;gap:20px;margin-top:16px}
.overlay-controls{flex:1 1 260px;display:flex;flex-direction:column;gap:14px}
.overlay-controls label{display:flex;flex-direction:column;gap:6px;font-weight:600;color:var(--text)}
.overlay-controls select{padding:.45rem .6rem;border-radius:8px;border:1px solid #24283b;background:#121423;color:var(--text)}
.overlay-link-group{display:flex;flex-direction:column;gap:6px}
.overlay-link-row{display:flex;gap:8px}
#overlay-url{flex:1;padding:.45rem .6rem;border-radius:8px;border:1px solid #24283b;background:#0f1117;color:var(--text);font-family:monospace;font-size:12px}
#overlay-url:focus{outline:2px solid var(--accent);outline-offset:2px}
#overlay-copy{padding:.45rem .9rem;border-radius:8px;border:1px solid var(--accent);background:rgba(139,92,246,0.1);color:var(--accent);cursor:pointer;font-weight:600}
#overlay-copy:hover{background:rgba(139,92,246,0.18)}
.overlay-dimensions{font-size:12px;margin-top:2px}
.overlay-preview{flex:1 1 360px;min-width:280px;display:flex;align-items:center;justify-content:center}
.overlay-preview-frame{position:relative;width:100%;display:flex;flex-direction:column;gap:6px;align-items:center;justify-content:center;background:linear-gradient(45deg,#1e1f2a,#0d0e15);padding:16px;border-radius:16px;border:1px solid #24283b;box-shadow:0 24px 50px rgba(8,9,14,0.6)}
.overlay-preview iframe{width:100%;border:0;border-radius:12px;background:transparent;box-shadow:0 10px 30px rgba(8,9,14,0.55);aspect-ratio:4/3;min-height:200px}
.overlay-preview-hint{text-align:center;font-size:12px}
.overlay-warning{padding:.6rem .75rem;border-radius:10px;border:1px solid rgba(239,68,68,0.4);background:rgba(239,68,68,0.08);color:#fca5a5;font-size:13px}
.overlay-hint{margin-top:18px}

